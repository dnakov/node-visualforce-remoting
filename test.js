// var VF = require('./index.js')

// var vf = VF(process.env.SF_SERVER_URL, process.env.SF_USER, process.env.SF_PASSWORD, function(er, executeMethod) {
//   executeMethod('/apex/comm', 'Commissions.getData', ['employees'], function(er, res) {
//     console.log(er, res)
//   })
// })

var VF = require('./vfproxy')
/*
VF('https://cs3.salesforce.com', '00DQ000000GKa6H!AR0AQM5xPcdq5zv4ot.2D.B_eUezlxqTZ03UuIcyElTuKyA4kzJ9RJ_WfMJed5IB4_d_ptQo_EuZTK6eyJ9CKSqBuA4IWCCH', function(er, executeMethod) {
  executeMethod('/apex/porthole__config', 'porthole.config.rawQuery', ['select'], (er, res) => {
    console.log(er, res)
  })
})

*/

VF.getVFCredentials('https://cs3.salesforce.com','00DQ000000GKa6H!AR0AQF_MIZN2GX.JfL7AUYWqFmBczZMl32uI8c35tv5i.xS4_EyQm2a3Wu.kQ9bk4h6fEyHiEin1.A7mI4YGW40.RYJ9S_2S', '/apex/porthole__config', (er, tokens) => {
  console.log(er)
  console.log(JSON.stringify(tokens))
  VF.apexremote(tokens, 'porthole.config.rawQuery', ["SELECT AccountId FROM Case LIMIT 100"], (er, res) => {
    console.log(er, res)
  })
})

/*
let tokens = {"url":"https://porthole.cs3.visual.force.com","vfpage":"/apex/porthole__config","cookies":["inst=APPQ; Domain=force.com; Path=/","BrowserId=CvdZNeRsQrWmZi2ZJnZSuA; Expires=Fri, 20 Oct 2017 15:16:03 GMT; Domain=force.com; Path=/","sid=00DQ000000GKa6H!AR0AQB8.uxvfTVHi6oMRpAxoOMzXHFnVUJRACg_m9oxHTUFHytrl6czMshiEpYtuSDkDXN1vXYbzSd4JxTtE7g5M_RKkfxvZ; Path=/; Secure","sid_Client=6000001stpk000000GKa6H; Path=/; Secure","clientSrc=98.109.111.219; Path=/; Secure"],"ctx":{"vf":{"vid":"066Q0000000F7ZB","xhr":false,"dev":false,"tst":false,"dbg":false,"tm":1503328564638,"ovrprm":false},"actions":{"porthole.ChatterAPI":{"ms":[{"name":"acceptRequest","len":2,"ns":"porthole","ver":39,"csrf":"VmpFPSxNakF4Tnkwd09DMHlORlF4TlRveE5qb3dOQzQyTXpoYSw1bXFLLWM1U3RoOVpGTTBMUmVtQmdyLE0yWXlPV0l6"},{"name":"addGroupMember","len":2,"ns":"porthole","ver":39,"csrf":"VmpFPSxNakF4Tnkwd09DMHlORlF4TlRveE5qb3dOQzQyTXpoYSxSeGtGSDZTU2M2Q1gyZXdRUEh6U2pHLE5XSTJZakE0"},{"name":"deleteComment","len":2,"ns":"porthole","ver":39,"csrf":"VmpFPSxNakF4Tnkwd09DMHlORlF4TlRveE5qb3dOQzQyTXpoYSxoSjRMaEFBX1R6TW1fUHFfMW1Sd0lnLE5UQTFZVE0x"},{"name":"deletePost","len":1,"ns":"porthole","ver":39,"csrf":"VmpFPSxNakF4Tnkwd09DMHlORlF4TlRveE5qb3dOQzQyTXpsYSwtTmVfRm83QnpqX2paakxINGpLNnhiLE1XSmxaRFV3"},{"name":"deletePostFile","len":3,"ns":"porthole","ver":39,"csrf":"VmpFPSxNakF4Tnkwd09DMHlORlF4TlRveE5qb3dOQzQyTXpsYSxrRENmOE5mT2tCaDEwUTRiaTZjLThiLFlUVm1NV1F5"},{"name":"editComment","len":4,"ns":"porthole","ver":39,"csrf":"VmpFPSxNakF4Tnkwd09DMHlORlF4TlRveE5qb3dOQzQyTXpsYSxBLWhMdi04TEllYnJkS1l0eGFhdU5ZLFlUZzBZVFV5"},{"name":"editPost","len":4,"ns":"porthole","ver":39,"csrf":"VmpFPSxNakF4Tnkwd09DMHlORlF4TlRveE5qb3dOQzQyTXpsYSx1OWhnYlp1Smt1ckVGZmp2X1NtQlctLFptSTJOemht"},{"name":"follow","len":1,"ns":"porthole","ver":39,"csrf":"VmpFPSxNakF4Tnkwd09DMHlORlF4TlRveE5qb3dOQzQyTXpsYSw3ZDktcm9RWnpHWDFsREdwS1NfY204LE16VmtaakU1"},{"name":"getAllComments","len":2,"ns":"porthole","ver":39,"csrf":"VmpFPSxNakF4Tnkwd09DMHlORlF4TlRveE5qb3dOQzQyTXpsYSx0ZklZbHE5SWJZcUR3VTl4a3B0UVUyLE1ERTJNMk5r"},{"name":"getChatterFeed","len":2,"ns":"porthole","ver":39,"csrf":"VmpFPSxNakF4Tnkwd09DMHlORlF4TlRveE5qb3dOQzQyTXpsYSx4REpGb3FjeEFEZHpYSThIcXh6cjgxLE4yRXlaVEpr"},{"name":"getChatterGroup","len":1,"ns":"porthole","ver":39,"csrf":"VmpFPSxNakF4Tnkwd09DMHlORlF4TlRveE5qb3dOQzQyTXpsYSw5a1hYME1VQTktdGFjQ2I5cUlEclFZLFpEbGpZbUl4"},{"name":"getChatterGroups","len":0,"ns":"porthole","ver":39,"csrf":"VmpFPSxNakF4Tnkwd09DMHlORlF4TlRveE5qb3dOQzQyTXpsYSxhQ0tnRDVQa1FuQmJ5cjRpLUJFZldzLFl6Y3hNREJr"},{"name":"getChatterPeople","len":2,"ns":"porthole","ver":39,"csrf":"VmpFPSxNakF4Tnkwd09DMHlORlF4TlRveE5qb3dOQzQyTXpsYSxiN0s3eWUxbWJTM3FyZ2tnS2xsWmFBLE5tWTROVE5t"},{"name":"getChatterPerson","len":1,"ns":"porthole","ver":39,"csrf":"VmpFPSxNakF4Tnkwd09DMHlORlF4TlRveE5qb3dOQzQyTXpsYSwyWUFjS0NPdURMVXhfT1ZzOTVldlhmLE0yWmxNMlF6"},{"name":"getItem","len":1,"ns":"porthole","ver":39,"csrf":"VmpFPSxNakF4Tnkwd09DMHlORlF4TlRveE5qb3dOQzQyTXpsYSxiV2NHMW5ST0J3aHVLQ2oza1VsVnRPLE5qa3lZVEV5"},{"name":"getMoreChatterPeople","len":2,"ns":"porthole","ver":39,"csrf":"VmpFPSxNakF4Tnkwd09DMHlORlF4TlRveE5qb3dOQzQyTXpsYSx5ejZleHFjT3pmLWxEdEpzbWQxcUFmLE5HUTFPV0Uy"},{"name":"joinChatterGroup","len":1,"ns":"porthole","ver":39,"csrf":"VmpFPSxNakF4Tnkwd09DMHlORlF4TlRveE5qb3dOQzQyTXpsYSxndjM4dDJSX1N2MU1RU29Tc054cFBBLFlUTTFNalE1"},{"name":"leaveChatterGroup","len":2,"ns":"porthole","ver":39,"csrf":"VmpFPSxNakF4Tnkwd09DMHlORlF4TlRveE5qb3dOQzQyTXpsYSw1Q2FyYkhENXg2OEtwQmxOemkwdkVTLE56RXhaRGcz"},{"name":"likeItem","len":1,"ns":"porthole","ver":39,"csrf":"VmpFPSxNakF4Tnkwd09DMHlORlF4TlRveE5qb3dOQzQyTXpsYSwwT3lWdHNNWVIyQzIySHdVT1VUeEdVLE9ERmxaV0pq"},{"name":"rejectRequest","len":2,"ns":"porthole","ver":39,"csrf":"VmpFPSxNakF4Tnkwd09DMHlORlF4TlRveE5qb3dOQzQyTXpsYSwxN21pdHZRbktRbWZxeXZNeFJlMkw0LE16VTBaVGs1"},{"name":"requestToJoin","len":1,"ns":"porthole","ver":39,"csrf":"VmpFPSxNakF4Tnkwd09DMHlORlF4TlRveE5qb3dOQzQyTXpsYSxnY1RvZ0F0ZjRpVmVRQ1ZyRC00ZWZyLFl6UTNNekF4"},{"name":"searchMentions","len":1,"ns":"porthole","ver":39,"csrf":"VmpFPSxNakF4Tnkwd09DMHlORlF4TlRveE5qb3dOQzQyTkRCYSxIY1FZV2RNcjJKYjQtcjFua3RCbkUtLE1qaGtabUU1"},{"name":"submitComment","len":3,"ns":"porthole","ver":39,"csrf":"VmpFPSxNakF4Tnkwd09DMHlORlF4TlRveE5qb3dOQzQyTkRCYSxUQUxlSDhjQmxIUEZsTWluR3EzSDZ0LFpEZGxNREUy"},{"name":"submitGroup","len":3,"ns":"porthole","ver":39,"csrf":"VmpFPSxNakF4Tnkwd09DMHlORlF4TlRveE5qb3dOQzQyTkRCYSxOZ00za2VtWWJSYVpxU1F2MWltTHgzLFltVXpNelE1"},{"name":"submitPost","len":3,"ns":"porthole","ver":39,"csrf":"VmpFPSxNakF4Tnkwd09DMHlORlF4TlRveE5qb3dOQzQyTkRCYSxObm9oOVJsUHlJV1FIWlVVeHdRSlJRLE1HUm1aRFk1"},{"name":"unfollow","len":2,"ns":"porthole","ver":39,"csrf":"VmpFPSxNakF4Tnkwd09DMHlORlF4TlRveE5qb3dOQzQyTkRCYSxWV1FjUjZydHVwYkFVcUNmd19VN0NCLFptWTNOelEw"},{"name":"unlikeItem","len":2,"ns":"porthole","ver":39,"csrf":"VmpFPSxNakF4Tnkwd09DMHlORlF4TlRveE5qb3dOQzQyTkRCYSxhdU5MdG1fR2lMRG83cTV1U0U5N2JHLE5XUXdOMlJo"},{"name":"updateGroupDescription","len":3,"ns":"porthole","ver":39,"csrf":"VmpFPSxNakF4Tnkwd09DMHlORlF4TlRveE5qb3dOQzQyTkRCYSxwakUxY2NYYVpNT1FTTnI2c3hHMTM0LFptSmtZek13"}],"prm":1},"porthole.config":{"ms":[{"name":"deleteRecord","len":1,"ns":"porthole","ver":34,"csrf":"VmpFPSxNakF4Tnkwd09DMHlORlF4TlRveE5qb3dOQzQyTkRCYSxEMEs5SzF4bXF6M2t1NTEwdVptQkxLLFltWmlNamc1"},{"name":"executeCustomAction","len":2,"ns":"porthole","ver":34,"csrf":"VmpFPSxNakF4Tnkwd09DMHlORlF4TlRveE5qb3dOQzQyTkRCYSxQakU5ci1sMG1XQW13d3VkclF1RkFULE1XSXdOalpr"},{"name":"getApiNames","len":0,"ns":"porthole","ver":34,"csrf":"VmpFPSxNakF4Tnkwd09DMHlORlF4TlRveE5qb3dOQzQyTkRCYSxEblRkOVJXTHIya2k2QnZGM08ya09ILE5XTTVPVE16"},{"name":"getListView","len":2,"ns":"porthole","ver":34,"csrf":"VmpFPSxNakF4Tnkwd09DMHlORlF4TlRveE5qb3dOQzQyTkRCYSxETUQxTjZ5cjA4bElOc0FQZnNsd2oyLE5qYzVZemt4"},{"name":"getListViews","len":1,"ns":"porthole","ver":34,"csrf":"VmpFPSxNakF4Tnkwd09DMHlORlF4TlRveE5qb3dOQzQyTkRCYSxwWGVPdElWOFhYTVpHN3gwaEs3NmNWLE5tRTBNemN6"},{"name":"getLookupName","len":2,"ns":"porthole","ver":34,"csrf":"VmpFPSxNakF4Tnkwd09DMHlORlF4TlRveE5qb3dOQzQyTkRCYSxMWWgtVDZ5akpoMXFveVdFcU1iNHliLE56VTJaRGd6"},{"name":"getLookup","len":3,"ns":"porthole","ver":34,"csrf":"VmpFPSxNakF4Tnkwd09DMHlORlF4TlRveE5qb3dOQzQyTkRCYSx6TjdnWm1hM1JZdVc4U3JaczdZZURWLE16QmhZbVE1"},{"name":"getObjectFields","len":1,"ns":"porthole","ver":34,"csrf":"VmpFPSxNakF4Tnkwd09DMHlORlF4TlRveE5qb3dOQzQyTkRCYSxzUDNaV0JnN3ZFbHJxMk9CMW9uWUU4LFpEZGxNMlUw"},{"name":"query","len":5,"ns":"porthole","ver":34,"csrf":"VmpFPSxNakF4Tnkwd09DMHlORlF4TlRveE5qb3dOQzQyTkRCYSxfRzNLVGhoQUszY1JCTWFJUGNiWm9ELE9EWmlOR0k0"},{"name":"query","len":6,"ns":"porthole","ver":34,"csrf":"VmpFPSxNakF4Tnkwd09DMHlORlF4TlRveE5qb3dOQzQyTkRGYSxsQ0hnYmVYYlZibzQxN1BKbWREYWlELE9EWmlOR0k0"},{"name":"rawQuery","len":1,"ns":"porthole","ver":34,"csrf":"VmpFPSxNakF4Tnkwd09DMHlORlF4TlRveE5qb3dOQzQyTkRGYSx3QjZhVVJiMVpsR3NON0ZSdDljSExZLE5tRXdNVE14"},{"name":"saveRecordGraph","len":2,"ns":"porthole","ver":34,"csrf":"VmpFPSxNakF4Tnkwd09DMHlORlF4TlRveE5qb3dOQzQyTkRGYSxRUE9qZm5fVEhWX0xhbVpnRWlmaDBBLFlXWmlaak0z"}],"prm":1}},"service":"apexremote"}}
VF.apexremote(tokens, 'porthole.config.rawQuery', ['select'], (er, res) => {
  console.log(er, res)
})
*/
